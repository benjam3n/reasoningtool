# Checklist Search
# Intelligence Reduction: 99%
# Version: 1.0.0

id: checklist_search
name: Checklist Search
version: "1.0.0"
domain: core
intelligence_reduction: "99%"

goal: |
  Find items that match criteria by checking each item against
  a defined checklist. Pure mechanical matching - no judgment required.

description: |
  The simplest possible search: enumerate items, check each against
  criteria, return those that pass. Intelligence is in creating the
  checklist, not in following it.

when_to_use:
  - Filtering options by requirements
  - Audit/compliance checking
  - Quality assurance
  - Finding items that meet specifications
  - Any search with explicit pass/fail criteria

inputs:
  - name: items
    type: list
    description: "All items to check"
  - name: criteria
    type: checklist
    description: "Pass/fail criteria for each dimension"
  - name: mode
    type: enum
    values: ["all_must_pass", "any_must_pass", "weighted_score"]
    description: "How to combine criteria results"

outputs:
  - name: passing_items
    type: list
    description: "Items that passed the criteria"
  - name: results_matrix
    type: table
    description: "Each item's score on each criterion"

# ============================================
# PROCEDURE STEPS
# ============================================

steps:
  - id: 1
    name: "Define Criteria Checklist"
    action: |
      List all criteria that items must meet.
      Each criterion must be:
      - Observable (can be checked)
      - Binary (pass/fail) or Scorable (1-10)
      - Independent (checking one doesn't affect another)
    output: "Numbered criteria list"
    template: |
      CRITERIA CHECKLIST:
      [ ] Criterion 1: [Description] - [How to check]
      [ ] Criterion 2: [Description] - [How to check]
      ...
      [ ] Criterion N: [Description] - [How to check]

      Mode: [all_must_pass / any_must_pass / weighted_score]
      If weighted: Criterion weights: [C1: W1, C2: W2, ...]

  - id: 2
    name: "Enumerate Items"
    action: |
      List all items to be checked.
      Include everything - filtering happens via criteria.
    output: "Numbered item list"

  - id: 3
    name: "Check Each Item"
    action: |
      For each item, check each criterion.
      Record PASS (✓) or FAIL (✗) for each.
      No judgment - just mechanical checking.
    output: "Results matrix"
    template: |
      ITEM: [Item name]
      [ ] Criterion 1: [✓/✗] - [Evidence]
      [ ] Criterion 2: [✓/✗] - [Evidence]
      ...
      Result: [PASS/FAIL] ([N]/[Total] criteria met)

  - id: 4
    name: "Aggregate Results"
    action: |
      Based on mode:
      - all_must_pass: Item passes only if ALL criteria pass
      - any_must_pass: Item passes if ANY criterion passes
      - weighted_score: Calculate weighted sum, threshold for pass
    output: "Final pass/fail for each item"

  - id: 5
    name: "Return Passing Items"
    action: |
      List all items that passed.
      Optionally rank by number of criteria met or weighted score.
    output: "Filtered list"
    template: |
      PASSING ITEMS:
      1. [Item] - [Score/Criteria met]
      2. [Item] - [Score/Criteria met]
      ...

      FAILED ITEMS:
      1. [Item] - Failed on: [Criteria list]
      ...

# ============================================
# CHECKLIST TEMPLATES
# ============================================

templates:
  requirement_checklist:
    format: |
      [ ] Requirement: [Name]
          Definition: [What it means]
          Check method: [How to verify]
          Evidence needed: [What proves pass/fail]

  quality_checklist:
    format: |
      [ ] Quality criterion: [Name]
          Standard: [What "good" looks like]
          Measurement: [How to measure]
          Threshold: [Pass if >= X]

  compliance_checklist:
    format: |
      [ ] Rule: [Name/Number]
          Requirement: [What must be true]
          Verification: [How to check]
          Documentation: [What to record]

# ============================================
# EXAMPLE
# ============================================

example:
  goal: "Find programming languages suitable for the project"

  criteria:
    - criterion: "Has strong typing"
      weight: 3
    - criterion: "Has good async support"
      weight: 2
    - criterion: "Team has experience"
      weight: 3
    - criterion: "Good library ecosystem"
      weight: 2

  items: ["Python", "JavaScript", "Rust", "Go", "Java"]

  results:
    Python:
      strong_typing: "✗ (optional typing only)"
      async_support: "✓"
      team_experience: "✓"
      library_ecosystem: "✓"
      score: "7/10"

    Rust:
      strong_typing: "✓"
      async_support: "✓"
      team_experience: "✗"
      library_ecosystem: "✓"
      score: "7/10"

    Go:
      strong_typing: "✓"
      async_support: "✓"
      team_experience: "✓"
      library_ecosystem: "✓"
      score: "10/10"

  passing: ["Go (10/10)", "Python (7/10)", "Rust (7/10)"]

# ============================================
# VERIFICATION
# ============================================

verification:
  - "All criteria are observable and checkable"
  - "Each criterion was checked for each item"
  - "Pass/fail was recorded with evidence"
  - "Aggregation mode was applied correctly"
  - "Results are reproducible (another checker would get same result)"
